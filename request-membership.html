<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¹Ø¶ÙˆÛŒØª | Ú©Ø§ÙˆÛŒØ§Ù† ØªÙˆØ³Ø¹Ù‡ Ù…Ø¹Ø¯Ù†</title>
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="icon" type="image/svg+xml" href="https://cdn.grapesjs.com/workspaces/cmgvbwak408ja13nsemkia83b/assets/7e057c43-5d96-4c3a-a8fc-8bd5f6589a93__kavianpremiumbadgelogo.svg">
  
  <style>
      * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
      }

      body {
          font-family: 'Vazirmatn', sans-serif;
          background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
          min-height: 100vh;
          padding: 20px;
          direction: rtl;
      }

      .container {
          max-width: 800px;
          margin: 0 auto;
          background: white;
          border-radius: 20px;
          box-shadow: 0 20px 60px rgba(0,0,0,0.1);
          overflow: hidden;
      }

      .header {
          background: linear-gradient(135deg, #2563eb, #1d4ed8);
          color: white;
          text-align: center;
          padding: 40px 30px;
      }

      .header img {
          width: 80px;
          height: 80px;
          margin-bottom: 20px;
          border-radius: 50%;
          border: 3px solid rgba(255,255,255,0.3);
      }

      .header h1 {
          font-size: 2rem;
          font-weight: 800;
          margin-bottom: 10px;
      }

      .header p {
          opacity: 0.9;
          font-size: 1.1rem;
      }

      .form-container {
          padding: 40px;
      }

      .form-section {
          margin-bottom: 30px;
      }

      .section-title {
          font-size: 1.25rem;
          font-weight: 700;
          color: #1a202c;
          margin-bottom: 20px;
          padding-bottom: 10px;
          border-bottom: 2px solid #e5e7eb;
      }

      .form-row {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: 20px;
          margin-bottom: 20px;
      }

      .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
      }

      .form-group.full-width {
          grid-column: span 2;
      }

      .form-label {
          font-weight: 600;
          color: #374151;
          font-size: 0.9375rem;
      }

      .form-input,
      .form-select,
      .form-textarea {
          padding: 15px;
          border: 2px solid #e5e7eb;
          border-radius: 12px;
          font-family: inherit;
          font-size: 1rem;
          transition: all 0.3s;
          background: #f9fafb;
      }

      .form-input:focus,
      .form-select:focus,
      .form-textarea:focus {
          outline: none;
          border-color: #2563eb;
          background: white;
          box-shadow: 0 0 0 3px rgba(37,99,235,0.1);
      }

      .form-textarea {
          resize: vertical;
          min-height: 120px;
      }

      .access-levels {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: 15px;
          margin-bottom: 20px;
      }

      .access-level {
          border: 2px solid #e5e7eb;
          border-radius: 12px;
          padding: 20px;
          cursor: pointer;
          transition: all 0.3s;
          position: relative;
      }

      .access-level:hover {
          border-color: #2563eb;
          background: #f8fafc;
      }

      .access-level.selected {
          border-color: #2563eb;
          background: #eff6ff;
      }

      .access-level input[type="radio"] {
          position: absolute;
          opacity: 0;
      }

      .access-title {
          font-weight: 700;
          color: #1a202c;
          margin-bottom: 8px;
      }

      .access-description {
          font-size: 0.875rem;
          color: #6b7280;
          line-height: 1.5;
      }

      .access-features {
          list-style: none;
          margin-top: 10px;
      }

      .access-features li {
          font-size: 0.8125rem;
          color: #4b5563;
          margin-bottom: 4px;
      }

      .access-features li:before {
          content: "âœ“";
          color: #10b981;
          font-weight: bold;
          margin-left: 6px;
      }

      .checkbox-group {
          display: flex;
          align-items: flex-start;
          gap: 12px;
          margin: 25px 0;
      }

      .checkbox-group input[type="checkbox"] {
          width: 20px;
          height: 20px;
          accent-color: #2563eb;
          margin-top: 2px;
      }

      .checkbox-group label {
          line-height: 1.6;
          color: #374151;
      }

      .submit-btn {
          width: 100%;
          background: linear-gradient(135deg, #2563eb, #1d4ed8);
          color: white;
          border: none;
          padding: 18px;
          border-radius: 12px;
          font-size: 1.1rem;
          font-weight: 700;
          cursor: pointer;
          transition: all 0.3s;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 10px;
      }

      .submit-btn:hover {
          transform: translateY(-2px);
          box-shadow: 0 10px 30px rgba(37,99,235,0.3);
      }

      .submit-btn:disabled {
          opacity: 0.7;
          cursor: not-allowed;
          transform: none;
      }

      .alert {
          padding: 15px 20px;
          border-radius: 12px;
          margin-bottom: 20px;
          font-weight: 600;
          display: none;
      }

      .alert-success {
          background: #d1fae5;
          color: #065f46;
          border: 2px solid #10b981;
      }

      .alert-error {
          background: #fee2e2;
          color: #991b1b;
          border: 2px solid #ef4444;
      }

      .loading {
          width: 20px;
          height: 20px;
          border: 3px solid #ffffff40;
          border-top: 3px solid #ffffff;
          border-radius: 50%;
          animation: spin 1s linear infinite;
      }

      @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
      }

      .back-link {
          display: inline-flex;
          align-items: center;
          gap: 8px;
          color: #2563eb;
          text-decoration: none;
          font-weight: 600;
          margin-bottom: 20px;
          transition: all 0.3s;
      }

      .back-link:hover {
          color: #1d4ed8;
          transform: translateX(-5px);
      }

      @media (max-width: 768px) {
          .form-row,
          .access-levels {
              grid-template-columns: 1fr;
          }

          .form-group.full-width {
              grid-column: span 1;
          }

          .form-container {
              padding: 30px 20px;
          }

          .header {
              padding: 30px 20px;
          }

          .header h1 {
              font-size: 1.5rem;
          }
      }
  </style>
</head>
<body>
  <div class="container">
      <!-- Header -->
      <div class="header">
          <img src="https://cdn.grapesjs.com/workspaces/cmgvbwak408ja13nsemkia83b/assets/7e057c43-5d96-4c3a-a8fc-8bd5f6589a93__kavianpremiumbadgelogo.svg" alt="Ú©Ø§ÙˆÛŒØ§Ù†">
          <h1>Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¹Ø¶ÙˆÛŒØª</h1>
          <p>Ø¨Ù‡ Ø¬Ù…Ø¹ Ù…ØªØ®ØµØµØ§Ù† Ù…Ø¹Ø¯Ù† Ø¨Ù¾ÛŒÙˆÙ†Ø¯ÛŒØ¯ Ùˆ Ø§Ø² Ù…Ù†Ø§Ø¨Ø¹ ÙÙ†ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯</p>
      </div>

      <!-- Form -->
      <div class="form-container">
          <a href="./index.html" class="back-link">
              â† Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ
          </a>

          <div id="alert" class="alert"></div>

          <form id="membership-form">
              <!-- Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ø®ØµÛŒ -->
              <div class="form-section">
                  <h2 class="section-title">Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ø®ØµÛŒ</h2>
                  <div class="form-row">
                      <div class="form-group">
                          <label class="form-label" for="firstName">Ù†Ø§Ù… *</label>
                          <input type="text" id="firstName" name="firstName" class="form-input" required>
                      </div>
                      <div class="form-group">
                          <label class="form-label" for="lastName">Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ *</label>
                          <input type="text" id="lastName" name="lastName" class="form-input" required>
                      </div>
                  </div>
                  <div class="form-row">
                      <div class="form-group">
                          <label class="form-label" for="email">Ø§ÛŒÙ…ÛŒÙ„ *</label>
                          <input type="email" id="email" name="email" class="form-input" required>
                      </div>
                      <div class="form-group">
                          <label class="form-label" for="phone">Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³ *</label>
                          <input type="tel" id="phone" name="phone" class="form-input" placeholder="09XX XXX XXXX" required>
                      </div>
                  </div>
              </div>

              <!-- Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´ØºÙ„ÛŒ -->
              <div class="form-section">
                  <h2 class="section-title">Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´ØºÙ„ÛŒ</h2>
                  <div class="form-row">
                      <div class="form-group">
                          <label class="form-label" for="company">Ù†Ø§Ù… Ø´Ø±Ú©Øª/Ø³Ø§Ø²Ù…Ø§Ù† *</label>
                          <input type="text" id="company" name="company" class="form-input" required>
                      </div>
                      <div class="form-group">
                          <label class="form-label" for="position">Ø³Ù…Øª Ø´ØºÙ„ÛŒ</label>
                          <input type="text" id="position" name="position" class="form-input">
                      </div>
                  </div>
                  <div class="form-row">
                      <div class="form-group">
                          <label class="form-label" for="experience">Ø³Ø§Ø¨Ù‚Ù‡ Ú©Ø§Ø± (Ø³Ø§Ù„)</label>
                          <select id="experience" name="experience" class="form-select">
                              <option value="">Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</option>
                              <option value="Ú©Ù…ØªØ± Ø§Ø² 2 Ø³Ø§Ù„">Ú©Ù…ØªØ± Ø§Ø² 2 Ø³Ø§Ù„</option>
                              <option value="2-5 Ø³Ø§Ù„">2-5 Ø³Ø§Ù„</option>
                              <option value="5-10 Ø³Ø§Ù„">5-10 Ø³Ø§Ù„</option>
                              <option value="Ø¨ÛŒØ´ Ø§Ø² 10 Ø³Ø§Ù„">Ø¨ÛŒØ´ Ø§Ø² 10 Ø³Ø§Ù„</option>
                          </select>
                      </div>
                      <div class="form-group">
                          <label class="form-label" for="projectType">Ù†ÙˆØ¹ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ ÙØ¹Ù„ÛŒ</label>
                          <select id="projectType" name="projectType" class="form-select">
                              <option value="">Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</option>
                              <option value="Ø§Ú©ØªØ´Ø§Ù Ù…Ø¹Ø¯Ù†ÛŒ">Ø§Ú©ØªØ´Ø§Ù Ù…Ø¹Ø¯Ù†ÛŒ</option>
                              <option value="Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø±ÙˆØ¨Ø§Ø²">Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø±ÙˆØ¨Ø§Ø²</option>
                              <option value="Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø²ÛŒØ±Ø²Ù…ÛŒÙ†ÛŒ">Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø²ÛŒØ±Ø²Ù…ÛŒÙ†ÛŒ</option>
                              <option value="ÙØ±Ø¢ÙˆØ±ÛŒ Ù…ÙˆØ§Ø¯ Ù…Ø¹Ø¯Ù†ÛŒ">ÙØ±Ø¢ÙˆØ±ÛŒ Ù…ÙˆØ§Ø¯ Ù…Ø¹Ø¯Ù†ÛŒ</option>
                              <option value="Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ø±ÙˆÚ˜Ù‡">Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ø±ÙˆÚ˜Ù‡</option>
                              <option value="Ù…Ø´Ø§ÙˆØ±Ù‡">Ù…Ø´Ø§ÙˆØ±Ù‡</option>
                              <option value="ØªØ­Ù‚ÛŒÙ‚ Ùˆ ØªÙˆØ³Ø¹Ù‡">ØªØ­Ù‚ÛŒÙ‚ Ùˆ ØªÙˆØ³Ø¹Ù‡</option>
                          </select>
                      </div>
                  </div>
              </div>

              <!-- Ø³Ø·Ø­ Ø¯Ø³ØªØ±Ø³ÛŒ -->
              <div class="form-section">
                  <h2 class="section-title">Ø³Ø·Ø­ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø² *</h2>
                  <div class="access-levels">
                      <div class="access-level">
                          <input type="radio" id="viewer" name="accessLevel" value="viewer" required>
                          <label for="viewer">
                              <div class="access-title">Ù…Ø´Ø§Ù‡Ø¯Ù‡â€ŒÚ¯Ø±</div>
                              <div class="access-description">Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¬Ø¯ÛŒØ¯ Ùˆ Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯Ø§Ù†</div>
                              <ul class="access-features">
                                  <li>Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ù†Ø§Ø¨Ø¹ Ø¹Ù…ÙˆÙ…ÛŒ</li>
                                  <li>Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø±Ø§Ù‡Ù†Ù…Ø§Ù‡Ø§ÛŒ Ù¾Ø§ÛŒÙ‡</li>
                                  <li>Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ø³Ø§Ø¯Ù‡</li>
                              </ul>
                          </label>
                      </div>
                      <div class="access-level">
                          <input type="radio" id="analyst" name="accessLevel" value="analyst" required>
                          <label for="analyst">
                              <div class="access-title">ØªØ­Ù„ÛŒÙ„Ú¯Ø±</div>
                              <div class="access-description">Ø¨Ø±Ø§ÛŒ Ù…ØªØ®ØµØµØ§Ù† ØªØ­Ù„ÛŒÙ„ Ø¯Ø§Ø¯Ù‡</div>
                              <ul class="access-features">
                                  <li>ØªÙ…Ø§Ù… Ø§Ù…Ú©Ø§Ù†Ø§Øª Ù…Ø´Ø§Ù‡Ø¯Ù‡â€ŒÚ¯Ø±</li>
                                  <li>Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ ØªØ­Ù„ÛŒÙ„ÛŒ</li>
                                  <li>Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§ÛŒ ØªØ®ØµØµÛŒ</li>
                                  <li>Ù…Ø§Ø´ÛŒÙ†â€ŒØ­Ø³Ø§Ø¨â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡</li>
                              </ul>
                          </label>
                      </div>
                      <div class="access-level">
                          <input type="radio" id="engineer" name="accessLevel" value="engineer" required>
                          <label for="engineer">
                              <div class="access-title">Ù…Ù‡Ù†Ø¯Ø³</div>
                              <div class="access-description">Ø¨Ø±Ø§ÛŒ Ù…Ù‡Ù†Ø¯Ø³Ø§Ù† Ù…Ø¹Ø¯Ù†</div>
                              <ul class="access-features">
                                  <li>ØªÙ…Ø§Ù… Ø§Ù…Ú©Ø§Ù†Ø§Øª ØªØ­Ù„ÛŒÙ„Ú¯Ø±</li>
                                  <li>Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ù…Ù‡Ù†Ø¯Ø³ÛŒ Ú©Ø§Ù…Ù„</li>
                                  <li>Ø±Ø§Ù‡Ù†Ù…Ø§Ù‡Ø§ÛŒ ÙÙ†ÛŒ ØªØ®ØµØµÛŒ</li>
                                  <li>Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø±Ù‡Ø§ÛŒ Ù…Ø¹Ø¯Ù†ÛŒ</li>
                              </ul>
                          </label>
                      </div>
                      <div class="access-level">
                          <input type="radio" id="manager" name="accessLevel" value="manager" required>
                          <label for="manager">
                              <div class="access-title">Ù…Ø¯ÛŒØ± Ù¾Ø±ÙˆÚ˜Ù‡</div>
                              <div class="access-description">Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±Ø§Ù† Ùˆ ØªØµÙ…ÛŒÙ…â€ŒÚ¯ÛŒØ±Ø§Ù†</div>
                              <ul class="access-features">
                                  <li>ØªÙ…Ø§Ù… Ø§Ù…Ú©Ø§Ù†Ø§Øª Ù…Ù‡Ù†Ø¯Ø³</li>
                                  <li>Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ø±ÙˆÚ˜Ù‡</li>
                                  <li>Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØªÛŒ</li>
                                  <li>ØªØ­Ù„ÛŒÙ„ Ø§Ù‚ØªØµØ§Ø¯ÛŒ</li>
                              </ul>
                          </label>
                      </div>
                  </div>
              </div>

              <!-- Ù‡Ø¯Ù Ø§Ø³ØªÙØ§Ø¯Ù‡ -->
              <div class="form-section">
                  <h2 class="section-title">Ù‡Ø¯Ù Ø§Ø² Ø§Ø³ØªÙØ§Ø¯Ù‡</h2>
                  <div class="form-group full-width">
                      <label class="form-label" for="purpose">Ù„Ø·ÙØ§Ù‹ Ù‡Ø¯Ù Ø®ÙˆØ¯ Ø§Ø² Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù…Ù†Ø§Ø¨Ø¹ ÙÙ†ÛŒ Ú©Ø§ÙˆÛŒØ§Ù† Ø±Ø§ Ø´Ø±Ø­ Ø¯Ù‡ÛŒØ¯ *</label>
                      <textarea id="purpose" name="purpose" class="form-textarea" placeholder="Ù…Ø«Ø§Ù„: Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¹Ù…Ù„ÛŒØ§Øª Ù…Ø¹Ø¯Ù†ØŒ ØªØ­Ù„ÛŒÙ„ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ú©ØªØ´Ø§ÙÛŒØŒ Ø·Ø±Ø§Ø­ÛŒ Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ÛŒ Ø§Ø³ØªØ®Ø±Ø§Ø¬ØŒ ..." required></textarea>
                  </div>
                  <div class="form-group full-width">
                      <label class="form-label" for="additionalInfo">Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÚ©Ù…ÛŒÙ„ÛŒ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)</label>
                      <textarea id="additionalInfo" name="additionalInfo" class="form-textarea" placeholder="Ù‡Ø± Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§Ø¶Ø§ÙÛŒ Ú©Ù‡ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¯Ø± Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø´Ù…Ø§ Ù…ÙÛŒØ¯ Ø¨Ø§Ø´Ø¯..."></textarea>
                  </div>
              </div>

              <!-- ØªØ£ÛŒÛŒØ¯ Ù‚ÙˆØ§Ù†ÛŒÙ† -->
              <div class="checkbox-group">
                  <input type="checkbox" id="terms" name="terms" required>
                  <label for="terms">
                      Ù‚ÙˆØ§Ù†ÛŒÙ† Ùˆ Ù…Ù‚Ø±Ø±Ø§Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø³ÛŒØ³ØªÙ… Ø±Ø§ Ù…Ø·Ø§Ù„Ø¹Ù‡ Ú©Ø±Ø¯Ù‡ Ùˆ Ù…ÛŒâ€ŒÙ¾Ø°ÛŒØ±Ù…. Ù…ØªØ¹Ù‡Ø¯ Ù…ÛŒâ€ŒØ´ÙˆÙ… Ø§Ø² Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§Ø±Ø§Ø¦Ù‡ Ø´Ø¯Ù‡ ØµØ±ÙØ§Ù‹ Ø¨Ø±Ø§ÛŒ Ø§Ù‡Ø¯Ø§Ù Ù…Ø´Ø±ÙˆØ¹ Ùˆ Ù…Ø·Ø§Ø¨Ù‚ Ø¨Ø§ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯Ù‡Ø§ÛŒ Ø§Ø®Ù„Ø§Ù‚ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†Ù…. *
                  </label>
              </div>

              <button type="submit" class="submit-btn" id="submit-btn">
                  <span id="submit-text">Ø§Ø±Ø³Ø§Ù„ Ø¯Ø±Ø®ÙˆØ§Ø³Øª</span>
                  <span id="submit-loading" class="loading" style="display: none;"></span>
              </button>
          </form>
      </div>
  </div>

  <!-- EmailJS SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <script>
      // ØªÙ†Ø¸ÛŒÙ…Ø§Øª EmailJS Ø¨Ø§ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ÙˆØ§Ù‚Ø¹ÛŒ
      const EMAIL_CONFIG = {
          publicKey: 'u3dfoUdeOTtWSAjk_',
          serviceId: 'service_kiv8uen',
          templateId: 'Universal Kavian Templat'
      };

      // Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ EmailJS
      emailjs.init(EMAIL_CONFIG.publicKey);

      // Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ù†ØªØ®Ø§Ø¨ Ø³Ø·Ø­ Ø¯Ø³ØªØ±Ø³ÛŒ
      document.querySelectorAll('input[name="accessLevel"]').forEach(radio => {
          radio.addEventListener('change', function() {
              document.querySelectorAll('.access-level').forEach(level => {
                  level.classList.remove('selected');
              });
              this.closest('.access-level').classList.add('selected');
          });
      });

      // Ù…Ø¯ÛŒØ±ÛŒØª ÙØ±Ù…
      document.getElementById('membership-form').addEventListener('submit', async function(e) {
          e.preventDefault();
          
          const submitBtn = document.getElementById('submit-btn');
          const submitText = document.getElementById('submit-text');
          const submitLoading = document.getElementById('submit-loading');
          
          // Ù†Ù…Ø§ÛŒØ´ loading
          submitText.style.display = 'none';
          submitLoading.style.display = 'inline-block';
          submitBtn.disabled = true;
          
          try {
              // Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ ÙØ±Ù…
              const formData = new FormData(this);
              const data = Object.fromEntries(formData.entries());
              
              // ØªÙˆÙ„ÛŒØ¯ Ø´Ù†Ø§Ø³Ù‡ Ø¯Ø±Ø®ÙˆØ§Ø³Øª
              const requestId = 'REQ-' + Date.now().toString().slice(-8);
              data.requestId = requestId;
              data.submittedAt = new Date().toISOString();
              data.status = 'pending';
              
              // Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ
              if (!validateForm(data)) {
                  return;
              }
              
              // Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ÛŒÙ…ÛŒÙ„
              const emailData = {
                  // ÙÙ„Ú¯â€ŒÙ‡Ø§ÛŒ Ú©Ù†ØªØ±Ù„ template
                  if_membership_request: true,
                  if_approval: false,
                  if_rejection: false,
                  
                  // Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ø±Ø®ÙˆØ§Ø³Øª
                  request_id: requestId,
                  from_name: `${data.firstName} ${data.lastName}`,
                  from_email: data.email,
                  phone: data.phone,
                  company: data.company,
                  position: data.position || 'Ù…Ø´Ø®Øµ Ù†Ø´Ø¯Ù‡',
                  experience: data.experience || 'Ù…Ø´Ø®Øµ Ù†Ø´Ø¯Ù‡',
                  project_type: data.projectType || 'Ù…Ø´Ø®Øµ Ù†Ø´Ø¯Ù‡',
                  access_level: getAccessLevelLabel(data.accessLevel),
                  purpose: data.purpose,
                  additional_info: data.additionalInfo || 'Ù†Ø¯Ø§Ø±Ø¯',
                  submission_date: new Date().toLocaleDateString('fa-IR'),
                  
                  // Ø§ÛŒÙ…ÛŒÙ„ Ù…Ø¯ÛŒØ± Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù„Ø§Ø¹â€ŒØ±Ø³Ø§Ù†ÛŒ
                  to_email: 'admin@kdmine.com'
              };
              
              // Ø§Ø±Ø³Ø§Ù„ Ø§ÛŒÙ…ÛŒÙ„
              const result = await emailjs.send(
                  EMAIL_CONFIG.serviceId,
                  EMAIL_CONFIG.templateId,
                  emailData
              );
              
              console.log('âœ… Ø§ÛŒÙ…ÛŒÙ„ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯:', result);
              
              // Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯Ø± localStorage
              savePendingRequest(data);
              
              // Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ§Ù… Ù…ÙˆÙÙ‚ÛŒØª
              showAlert('success', `âœ… Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ø´Ø¯!\n\nØ´Ù†Ø§Ø³Ù‡ Ø¯Ø±Ø®ÙˆØ§Ø³Øª: ${requestId}\n\nØªÛŒÙ… Ù…Ø§ Ø¯Ø± Ø§Ø³Ø±Ø¹ ÙˆÙ‚Øª Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø´Ù…Ø§ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ø±Ø¯Ù‡ Ùˆ Ù†ØªÛŒØ¬Ù‡ Ø±Ø§ Ø§Ø² Ø·Ø±ÛŒÙ‚ Ø§ÛŒÙ…ÛŒÙ„ Ø§Ø·Ù„Ø§Ø¹ Ø®ÙˆØ§Ù‡Ù†Ø¯ Ø¯Ø§Ø¯.`);
              
              // Ø±ÛŒØ³Øª ÙØ±Ù…
              this.reset();
              document.querySelectorAll('.access-level').forEach(level => {
                  level.classList.remove('selected');
              });
              
          } catch (error) {
              console.error('âŒ Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„:', error);
              showAlert('error', 'âŒ Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ø¯Ø±Ø®ÙˆØ§Ø³Øª. Ù„Ø·ÙØ§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯ ÛŒØ§ Ù…Ø³ØªÙ‚ÛŒÙ…Ø§Ù‹ Ø¨Ø§ Ù…Ø§ ØªÙ…Ø§Ø³ Ø¨Ú¯ÛŒØ±ÛŒØ¯.');
          } finally {
              // Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø¯Ú©Ù…Ù‡
              submitText.style.display = 'inline';
              submitLoading.style.display = 'none';
              submitBtn.disabled = false;
          }
      });

      // Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ ÙØ±Ù…
      function validateForm(data) {
          // Ø¨Ø±Ø±Ø³ÛŒ ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø§Ø¬Ø¨Ø§Ø±ÛŒ
          const requiredFields = ['firstName', 'lastName', 'email', 'phone', 'company', 'accessLevel', 'purpose'];
          for (let field of requiredFields) {
              if (!data[field] || data[field].trim() === '') {
                  showAlert('error', `âŒ Ù„Ø·ÙØ§Ù‹ ÙÛŒÙ„Ø¯ "${getFieldLabel(field)}" Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯.`);
                  return false;
              }
          }
          
          // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ…ÛŒÙ„
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          if (!emailRegex.test(data.email)) {
              showAlert('error', 'âŒ Ù„Ø·ÙØ§Ù‹ Ø§ÛŒÙ…ÛŒÙ„ Ù…Ø¹ØªØ¨Ø±ÛŒ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.');
              return false;
          }
          
          // Ø¨Ø±Ø±Ø³ÛŒ Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ†
          const phoneRegex = /^09\d{9}$/;
          if (!phoneRegex.test(data.phone.replace(/\s/g, ''))) {
              showAlert('error', 'âŒ Ù„Ø·ÙØ§Ù‹ Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ† Ù…Ø¹ØªØ¨Ø±ÛŒ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ (09XXXXXXXXX).');
              return false;
          }
          
          // Ø¨Ø±Ø±Ø³ÛŒ ØªØ£ÛŒÛŒØ¯ Ù‚ÙˆØ§Ù†ÛŒÙ†
          if (!data.terms) {
              showAlert('error', 'âŒ Ù„Ø·ÙØ§Ù‹ Ù‚ÙˆØ§Ù†ÛŒÙ† Ùˆ Ù…Ù‚Ø±Ø±Ø§Øª Ø±Ø§ Ø¨Ù¾Ø°ÛŒØ±ÛŒØ¯.');
              return false;
          }
          
          return true;
      }

      // Ø¯Ø±ÛŒØ§ÙØª Ø¨Ø±Ú†Ø³Ø¨ ÙÛŒÙ„Ø¯
      function getFieldLabel(field) {
          const labels = {
              firstName: 'Ù†Ø§Ù…',
              lastName: 'Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ',
              email: 'Ø§ÛŒÙ…ÛŒÙ„',
              phone: 'Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³',
              company: 'Ù†Ø§Ù… Ø´Ø±Ú©Øª',
              accessLevel: 'Ø³Ø·Ø­ Ø¯Ø³ØªØ±Ø³ÛŒ',
              purpose: 'Ù‡Ø¯Ù Ø§Ø² Ø§Ø³ØªÙØ§Ø¯Ù‡'
          };
          return labels[field] || field;
      }

      // Ø¯Ø±ÛŒØ§ÙØª Ø¨Ø±Ú†Ø³Ø¨ Ø³Ø·Ø­ Ø¯Ø³ØªØ±Ø³ÛŒ
      function getAccessLevelLabel(level) {
          const labels = {
              viewer: 'Ù…Ø´Ø§Ù‡Ø¯Ù‡â€ŒÚ¯Ø±',
              analyst: 'ØªØ­Ù„ÛŒÙ„Ú¯Ø±',
              engineer: 'Ù…Ù‡Ù†Ø¯Ø³',
              manager: 'Ù…Ø¯ÛŒØ± Ù¾Ø±ÙˆÚ˜Ù‡'
          };
          return labels[level] || level;
      }

      // Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±
      function savePendingRequest(data) {
          const pendingRequests = JSON.parse(localStorage.getItem('pendingRequests') || '[]');
          pendingRequests.unshift(data);
          localStorage.setItem('pendingRequests', JSON.stringify(pendingRequests));
      }

      // Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ§Ù…
      function showAlert(type, message) {
          const alert = document.getElementById('alert');
          alert.className = `alert alert-${type}`;
          alert.textContent = message;
          alert.style.display = 'block';
          
          // Ø§Ø³Ú©Ø±ÙˆÙ„ Ø¨Ù‡ Ù¾ÛŒØ§Ù…
          alert.scrollIntoView({ behavior: 'smooth', block: 'center' });
          
          // Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† Ø®ÙˆØ¯Ú©Ø§Ø± Ù¾ÛŒØ§Ù… Ù…ÙˆÙÙ‚ÛŒØª
          if (type === 'success') {
              setTimeout(() => {
                  alert.style.display = 'none';
              }, 10000);
          } else {
              setTimeout(() => {
                  alert.style.display = 'none';
              }, 6000);
          }
      }

      console.log('ğŸš€ ÙØ±Ù… Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¹Ø¶ÙˆÛŒØª Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª!');
  </script>
</body>
</html>
